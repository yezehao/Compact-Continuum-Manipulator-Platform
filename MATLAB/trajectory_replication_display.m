clear;clc;close all;
% Read the trajectory coordinate information from txt file
target = dlmread('(UT)_dataset/data_initialization/target.txt'); 
initial_constant = dlmread('(UT)_dataset/data_initialization/initialization_constant.txt'); 
initial_previous = dlmread("(UT)_dataset/data_initialization/initialization_previous_posture.txt");

% Point Plot
figure;
quiver3(0, 0, 0, 500, 0, 0, 'r', 'LineWidth', 2, 'MaxHeadSize', 0.1,'HandleVisibility', 'off'); hold on,
quiver3(0, 0, 0, 0, 500, 0, 'g', 'LineWidth', 2, 'MaxHeadSize', 0.1,'HandleVisibility', 'off'); hold on,
quiver3(0, 0, 0, 0, 0, 500, 'b', 'LineWidth', 2, 'MaxHeadSize', 0.1,'HandleVisibility', 'off'); hold on,
scatter3(target(:,1), target(:,2), target(:,3), 10,"filled", ...
    'MarkerEdgeColor',[52,88,142]/255, ...
    'MarkerFaceColor',[52,88,142]/255, ...
    'HandleVisibility', 'off');
scatter3(initial_constant(:,1), initial_constant(:,2), initial_constant(:,3), 10,"filled", ...
    'MarkerEdgeColor',[191,30,46]/255, ...
    'MarkerFaceColor',[239,65,67]/255, ...
    'HandleVisibility', 'off');
scatter3(initial_previous(:,1), initial_previous(:,2), initial_previous(:,3), 10,"filled", ...
    'MarkerEdgeColor',[161,72,143]/255, ...
    'MarkerFaceColor',[103,82,144]/255, ...
    'HandleVisibility', 'off');

% Line Plot
i = 1;
plot3([target(i,1), target(i+1,1)], ...
    [target(i,2), target(i+1,2)], ...
    [target(i,3), target(i+1,3)], ...
    'Color',[52,88,142]/255, 'LineWidth', 1.5, ...
    'DisplayName', 'target trajectory');
plot3([initial_constant(i,1), initial_constant(i+1,1)], ...
    [initial_constant(i,2), initial_constant(i+1,2)], ...
    [initial_constant(i,3), initial_constant(i+1,3)], ...
    'Color',[239,65,67]/255, 'LineWidth', 1.5, ...
    'DisplayName', 'replicated trajectory with constant initialization');
plot3([initial_previous(i,1), initial_previous(i+1,1)], ...
    [initial_previous(i,2), initial_previous(i+1,2)], ...
    [initial_previous(i,3), initial_previous(i+1,3)], ...
    'Color',[103,82,144]/255, 'LineWidth', 1.5, ...
    'DisplayName', 'replicated trajectory with initialization according to previous posture');
for i = 2:size(target, 1)-1
    plot3([target(i,1), target(i+1,1)], ...
        [target(i,2), target(i+1,2)], ...
        [target(i,3), target(i+1,3)], ...
        'Color',[52,88,142]/255, 'LineWidth', 1.5, ...
        'HandleVisibility', 'off');
    plot3([initial_constant(i,1), initial_constant(i+1,1)], ...
        [initial_constant(i,2), initial_constant(i+1,2)], ...
        [initial_constant(i,3), initial_constant(i+1,3)], ...
        'Color',[239,65,67]/255, 'LineWidth', 1.5, ...
        'HandleVisibility', 'off');
    plot3([initial_previous(i,1), initial_previous(i+1,1)], ...
        [initial_previous(i,2), initial_previous(i+1,2)], ...
        [initial_previous(i,3), initial_previous(i+1,3)], ...
        'Color',[103,82,144]/255, 'LineWidth', 1.5, ...
        'HandleVisibility', 'off');
end

legend('Location', 'northeast');
xlabel('X Axis');
ylabel('Y Axis');
zlabel('Z Axis');
grid on;
